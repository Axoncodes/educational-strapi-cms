"use strict";(self.webpackChunkcms=self.webpackChunkcms||[]).push([[9789],{75730:(O,d,t)=>{t.r(d),t.d(d,{default:()=>U});var e=t(67294),n=t(86896),r=t(7483),o=t(64593),c=t(17034),D=t(185),y=t(53979),h=t(29728),M=t(49066),x=t(38939),m=t(8060),E=t(79031),v=t(37909),a=t(75515),i=t(15234),l=t(11047),s=t(12028),u=t(8934),T=t(30815),p=t(20022),R=t(80826),C=t(93742);const S=f=>{const P=(()=>f.startsWith("/")?`${strapi.backendURL}${f}`:f.startsWith("http")?f:`${strapi.backendURL}/${f}`)();return window.open(P,"_blank"),window.focus()};var $=t(4733);const U=()=>{(0,r.go)();const{formatMessage:f}=(0,n.Z)(),{data:P,isLoading:Z,deleteMutation:K,regenerateDocMutation:V}=(0,$.Z)(),[B,L]=(0,e.useState)(!1),[j,W]=(0,e.useState)(!1),[N,w]=(0,e.useState)(),H=4,Q=(P?.docVersions?.length||0)+1,I=()=>{const g=P?.prefix.startsWith("/")?"":"/";S(`${g}${P?.prefix}/v${P?.currentVersion}`)},z=g=>{V.mutate({version:g,prefix:P?.prefix})},F=()=>{L(!B)},Y=async()=>{W(!0),await K.mutateAsync({prefix:P?.prefix,version:N}),L(!B),W(!1)},G=g=>{w(g),L(!B)},b=f({id:(0,C.O)("plugin.name"),defaultMessage:"Documentation"});return e.createElement(c.A,null,e.createElement(o.q,{title:b}),e.createElement(D.o,{"aria-busy":Z},e.createElement(y.T,{title:b,subtitle:f({id:(0,C.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(r.jW,{permissions:R.Z.open},e.createElement(h.z,{onClick:I,startIcon:e.createElement(u.Z,null)},f({id:(0,C.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(M.D,null,Z&&e.createElement(r.dO,null,"Plugin is loading"),P?.docVersions.length?e.createElement(x.i,{colCount:H,rowCount:Q},e.createElement(m.h,null,e.createElement(E.Tr,null,e.createElement(v.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},f({id:(0,C.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(v.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},f({id:(0,C.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(i.p,null,P.docVersions.sort((g,X)=>g.generatedDate<X.generatedDate?1:-1).map(g=>e.createElement(E.Tr,{key:g.version},e.createElement(v.Td,{width:"50%"},e.createElement(a.Z,null,g.version)),e.createElement(v.Td,{width:"50%"},e.createElement(a.Z,null,g.generatedDate)),e.createElement(v.Td,null,e.createElement(l.k,{justifyContent:"end",...r.UW},e.createElement(s.h,{onClick:I,noBorder:!0,icon:e.createElement(u.Z,null),label:f({id:(0,C.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${g.version}`})}),e.createElement(r.jW,{permissions:R.Z.regenerate},e.createElement(s.h,{onClick:()=>z(g.version),noBorder:!0,icon:e.createElement(T.Z,null),label:f({id:(0,C.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${g.version}`})})),e.createElement(r.jW,{permissions:R.Z.update},g.version!==P.currentVersion&&e.createElement(s.h,{onClick:()=>G(g.version),noBorder:!0,icon:e.createElement(p.Z,null),label:f({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${g.version}`})})))))))):e.createElement(r.x7,null)),e.createElement(r.QH,{isConfirmButtonLoading:j,onConfirm:Y,onToggleDialog:F,isOpen:B})))}},4733:(O,d,t)=>{t.d(d,{Z:()=>x});var e=t(88767),n=t(7483),r=t(49950);const o=({prefix:m,version:E})=>(0,n.WY)(`${m}/deleteDoc/${E}`,{method:"DELETE"}),c=async m=>{try{return await(0,n.WY)(`/${r.Z}/getInfos`,{method:"GET"})}catch{return m({type:"warning",message:{id:"notification.error"}}),null}},D=({prefix:m,version:E})=>(0,n.WY)(`${m}/regenerateDoc`,{method:"POST",body:{version:E}}),y=({prefix:m,body:E})=>(0,n.WY)(`${m}/updateSettings`,{method:"PUT",body:E});var h=t(798);const x=()=>{const m=(0,e.useQueryClient)(),E=(0,n.lm)(),{isLoading:v,data:a}=(0,e.useQuery)("get-documentation",()=>c(E)),i=p=>{E({type:"warning",message:p.response.payload.message})},l=(p,R)=>{m.invalidateQueries("get-documentation"),E({type:p,message:{id:(0,h.Z)(R)}})},s=(0,e.useMutation)(o,{onSuccess:()=>l("info","notification.delete.success"),onError:p=>i(p)}),u=(0,e.useMutation)(y,{onSuccess:()=>l("success","notification.update.success"),onError:i}),T=(0,e.useMutation)(D,{onSuccess:()=>l("info","notification.generate.success"),onError:p=>i(p)});return{data:a,isLoading:v,deleteMutation:s,submitMutation:u,regenerateDocMutation:T}}},798:(O,d,t)=>{t.d(d,{Z:()=>r});var e=t(49950);const r=o=>`${e.Z}.${o}`},93742:(O,d,t)=>{t.d(d,{O:()=>e.Z});var e=t(798)},49066:(O,d,t)=>{t.d(d,{D:()=>o});var e=t(67294),n=t(45697),r=t(41580);const o=({children:c})=>e.createElement(r.x,{paddingLeft:10,paddingRight:10},c);o.propTypes={children:n.node.isRequired}},53979:(O,d,t)=>{t.d(d,{A:()=>v,T:()=>m});var e=t(67294),n=t(45697),r=t(88972),o=t(41580),c=t(11047);const D=a=>{const i=(0,e.useRef)(null),[l,s]=(0,e.useState)(!0),u=([T])=>{s(T.isIntersecting)};return(0,e.useEffect)(()=>{const T=i.current,p=new IntersectionObserver(u,a);return T&&p.observe(i.current),()=>{T&&p.disconnect()}},[i,a]),[i,l]};var y=t(95355);const h=(a,i)=>{const l=(0,y.W)(i);(0,e.useLayoutEffect)(()=>{const s=new ResizeObserver(l);return Array.isArray(a)?a.forEach(u=>{u.current&&s.observe(u.current)}):a.current&&s.observe(a.current),()=>{s.disconnect()}},[a,l])};var M=t(75515);const x=()=>{const a=(0,e.useRef)(null),[i,l]=(0,e.useState)(null),[s,u]=D({root:null,rootMargin:"0px",threshold:0});return h(s,()=>{s.current&&l(s.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{a.current&&l(a.current.getBoundingClientRect())},[a]),{containerRef:s,isVisible:u,baseHeaderLayoutRef:a,headerSize:i}},m=a=>{const{containerRef:i,isVisible:l,baseHeaderLayoutRef:s,headerSize:u}=x();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:u?.height},ref:i},l&&e.createElement(v,{ref:s,...a})),!l&&e.createElement(v,{...a,sticky:!0,width:u?.width}))};m.displayName="HeaderLayout";const E=(0,r.ZP)(o.x)`
  width: ${a=>a.width}px;
`,v=e.forwardRef(({navigationAction:a,primaryAction:i,secondaryAction:l,subtitle:s,title:u,sticky:T,width:p,...R},C)=>{const A=typeof s=="string";return T?e.createElement(E,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:p,zIndex:4,"data-strapi-header-sticky":!0},e.createElement(c.k,{justifyContent:"space-between"},e.createElement(c.k,null,a&&e.createElement(o.x,{paddingRight:3},a),e.createElement(o.x,null,e.createElement(M.Z,{variant:"beta",as:"h1",...R},u),A?e.createElement(M.Z,{variant:"pi",textColor:"neutral600"},s):s),l?e.createElement(o.x,{paddingLeft:4},l):null),e.createElement(c.k,null,i?e.createElement(o.x,{paddingLeft:2},i):void 0))):e.createElement(o.x,{ref:C,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0},a?e.createElement(o.x,{paddingBottom:2},a):null,e.createElement(c.k,{justifyContent:"space-between"},e.createElement(c.k,{minWidth:0},e.createElement(M.Z,{as:"h1",variant:"alpha",...R},u),l?e.createElement(o.x,{paddingLeft:4},l):null),i),A?e.createElement(M.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},s):s)});v.displayName="BaseHeaderLayout",v.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},v.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,sticky:n.bool,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired,width:n.number},m.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},m.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired}},17034:(O,d,t)=>{t.d(d,{A:()=>y});var e=t(67294),n=t(45697),r=t(88972),o=t(41580);const c=(0,r.ZP)(o.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:h})=>h?"auto 1fr":"1fr"};
`,D=(0,r.ZP)(o.x)`
  overflow-x: hidden;
`,y=({sideNav:h,children:M})=>e.createElement(c,{hasSideNav:Boolean(h)},h,e.createElement(D,{paddingBottom:10},M));y.defaultProps={sideNav:void 0},y.propTypes={children:n.node.isRequired,sideNav:n.node}},185:(O,d,t)=>{t.d(d,{o:()=>c});var e=t(67294),n=t(45697),r=t(88972);const o=r.ZP.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,c=({labelledBy:D,...y})=>{const h=D||"main-content-title";return e.createElement(o,{"aria-labelledby":h,id:"main-content",tabIndex:-1,...y})};c.defaultProps={labelledBy:void 0},c.propTypes={labelledBy:n.string}},30815:(O,d,t)=>{t.d(d,{Z:()=>r});var e=t(85893);const n=o=>(0,e.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.681 2.804A9.64 9.64 0 0 0 11.818 2C6.398 2 2 6.48 2 12c0 5.521 4.397 10 9.818 10 2.03 0 4.011-.641 5.67-1.835a9.987 9.987 0 0 0 3.589-4.831 1.117 1.117 0 0 0-.664-1.418 1.086 1.086 0 0 0-1.393.676 7.769 7.769 0 0 1-2.792 3.758 7.546 7.546 0 0 1-4.41 1.428V4.222h.002a7.492 7.492 0 0 1 3.003.625 7.61 7.61 0 0 1 2.5 1.762l.464.551-2.986 3.042a.186.186 0 0 0 .129.316H22V3.317a.188.188 0 0 0-.112-.172.179.179 0 0 0-.199.04l-2.355 2.4-.394-.468-.02-.02a9.791 9.791 0 0 0-3.239-2.293Zm-3.863 1.418V2v2.222Zm0 0v15.556c-4.216 0-7.636-3.484-7.636-7.778s3.42-7.777 7.636-7.778Z",fill:"#212134"})}),r=n}}]);
